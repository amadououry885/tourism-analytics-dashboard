@startuml Accommodation Booking Activity

title Tourist Accommodation Booking

skinparam backgroundColor #FEFEFE

|#LightBlue|Tourist|
|#F3E5F5|Stay Owner|
|#EEEEEE|System|

start

|Tourist|
:Search Accommodations;
:Apply Filters;

|System|
:Query Database;
:Return Results;

|Tourist|
:Select Property;
:View Details;

if (Internal Property?) then (yes)
    |Tourist|
    switch (Contact Method?)
        case (WhatsApp)
            :Send WhatsApp;
        case (Email)
            :Send Email;
        case (Phone)
            :Call Owner;
    endswitch
    
    |Stay Owner|
    :Respond to Inquiry;
    
    if (Available?) then (yes)
        :Confirm Booking;
        
        |Tourist|
        :Complete Booking;
    else (no)
        :Suggest Alternatives;
    endif
else (no)
    |System|
    :Show Affiliate Options;
    
    |Tourist|
    :Select Platform;
    
    |System|
    :Redirect to\nBooking.com/Agoda;
    
    |Tourist|
    :Book Externally;
endif

stop

@enduml

@startuml Event Registration Activity

title Event Registration Workflow

skinparam backgroundColor #FEFEFE

|#LightBlue|Tourist|
|#FFEBEE|Admin|
|#EEEEEE|System|

start

|Tourist|
:Browse Events;
:Select Event;
:Click Register;

|System|
:Check Capacity;

if (Event Full?) then (yes)
    :Show "Event Full";
    stop
else (no)
    :Load Registration Form;
endif

|Tourist|
:Fill Form Details;
:Submit Registration;

|System|
:Validate Data;

if (Requires Approval?) then (yes)
    :Create Registration\n(status = pending);
    :Notify Admin;
    
    |Admin|
    :Review Registration;
    
    if (Approve?) then (yes)
        :Set status = confirmed;
        
        |System|
        :Send Confirmation Email;
    else (no)
        |Admin|
        :Reject;
        
        |System|
        :Send Rejection Email;
    endif
else (no)
    :Create Registration\n(status = confirmed);
    :Send Confirmation Email;
endif

|Tourist|
:Registration Complete;

stop

@enduml

@startuml Vendor_Registration_Activity_Diagram

!theme plain
skinparam backgroundColor #FFFFFF
skinparam ActivityBackgroundColor #E8F4F8
skinparam ActivityBorderColor #0066B2
skinparam ArrowColor #333333
skinparam fontSize 11

title Vendor Registration Process (UML Activity Diagram)

(*) --> "Restaurant owner\nclicks \"Register\""
--> "Select role:\n\"Vendor\""
--> "Enter personal info:\nName, Email, Phone"
--> "Create password\n(strong requirements)"
--> "Confirm password"
--> ===S1===
partition System {
  === S1 ===
  --> "Validate email format"
  --> <<decision>>
  if "Email Valid?" then
    --> [Yes] "Check if email\nalready registered"
  else
    --> [No] "Return error:\nInvalid email"
    --> (*)
  endif
}
--> <<decision>>
if "Email Exists?" then
  --> [Yes] "Return error:\nEmail already registered"
  --> (*)
else
  --> [No] "Validate password\nstrength"
endif
--> <<decision>>
if "Password Strong?" then
  --> [Yes] "Check passwords\nmatch"
else
  --> [No] "Return error:\nPassword requirements"
  --> (*)
endif
--> <<decision>>
if "Passwords Match?" then
  --> [Yes] "Create user account"
else
  --> [No] "Return error:\nPasswords don't match"
  --> (*)
endif
--> ===S2===
partition System {
  === S2 ===
  --> "Create User record\nwith role = \"vendor\""
  --> "Set is_approved =\nFalse"
  --> "Hash password\n(bcrypt)"
  --> "Generate email\nverification token"
  --> "Send verification\nemail to user"
}
--> "Display message:\nCheck your email"
--> "Owner clicks email\nverification link"
--> ===S3===
partition System {
  === S3 ===
  --> "Validate verification\ntoken"
  --> <<decision>>
  if "Token Valid?" then
    --> [Yes] "Mark email\nas verified"
  else
    --> [No] "Return error:\nToken expired/invalid"
    --> (*)
  endif
}
--> "Enter restaurant details:\nName, Cuisines, Description"
--> "Add location info:\nCity, Address, District"
--> "Set coordinates:\nLatitude, Longitude"
--> "Add contact info:\nPhone, Email"
--> ===S4===
partition System {
  === S4 ===
  --> "Upload restaurant logo\nand cover image"
  --> "Validate image format\nand size"
  --> <<decision>>
  if "Images Valid?" then
    --> [Yes] "Store images\nin media folder"
  else
    --> [No] "Return error:\nInvalid images"
    --> (*)
  endif
}
--> "Upload restaurant\nbusiness document"
--> "Enter business\nregistration number"
--> "Add operating details:\nOpening hours, Facilities"
--> "Set amenities:\nParking, WiFi, etc."
--> ===S5===
partition System {
  === S5 ===
  --> "Create Vendor\nrecord in database"
  --> "Link Vendor to\nUser (owner_id)"
  --> "Set is_active = False\n(pending approval)"
  --> "Notify admin:\nNew vendor registered"
}
--> "Display message:\nAwaiting admin approval"
--> "Admin reviews\napplication"
--> "Admin verifies:\nDocuments, Business info"
--> <<decision>>
if "Approved?" then
  --> [Yes] "Set is_approved = True"
  --> "Set Vendor.is_active = True"
  --> "Send approval email"
else
  --> [No] "Set is_approved = False"
  --> "Send rejection email"
  --> (*)
endif
--> "Owner receives\napproval notification"
--> "Owner can now:\nAdd menu items, Set hours"
--> "Owner can manage\nreservations"
--> (*)

@enduml
